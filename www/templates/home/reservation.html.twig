{% extends "base.html.twig" %}

{% block title %}Réservation{% endblock %}

{% block body %}
    <div class="container mt-5">
        <h1 class="text-center mb-4">Réserver un hébergement</h1>
        
        <form method="GET" action="#">
            <div class="row">
                <!-- Sélection du type d'hébergement -->
                <div class="col-md-4">
                    <label for="type" class="form-label">Type d'hébergement :</label>
                    <select id="type" name="type" class="form-control">
                        <option value="">Tous</option>
                        {% for type in types %}
                            <option value="{{ type.id }}">{{ type.type }}</option>
                        {% endfor %}
                    </select>
                </div>
                
                <!-- Nombre d'adultes -->
                <div class="col-md-2">
                    <label for="adults" class="form-label">Adultes :</label>
                    <input type="number" id="adults" name="adults" class="form-control" min="1" value="1">
                </div>
                
                <!-- Nombre d'enfants -->
                <div class="col-md-2">
                    <label for="kids" class="form-label">Enfants :</label>
                    <input type="number" id="kids" name="kids" class="form-control" min="0" value="0">
                </div>
                
                <!-- Date d'arrivée -->
                <div class="col-md-4">
                    <label for="dateStart" class="form-label">Date d'arrivée :</label>
                    <input type="date" id="dateStart" name="dateStart" class="form-control">
                </div>
                
                <!-- Date de départ -->
                <div class="col-md-4 mt-3">
                    <label for="dateEnd" class="form-label">Date de départ :</label>
                    <input type="date" id="dateEnd" name="dateEnd" class="form-control">
                </div>
            </div>

            <!-- Bouton de recherche -->
            <div class="mt-4 text-center">
                <button type="submit" class="btn btn-primary">Rechercher</button>
            </div>
        </form>

        <!-- Résultats des hébergements disponibles -->
        <div class="mt-5" id="results">
            {% if hebergements is defined %}
                {% if hebergements %}
                    <h3 class="text-center">Hébergements disponibles</h3>
                    <div class="row">
                        {% for hebergement in hebergements %}
                            <div class="col-md-4 mb-4">
                                <div class="card">
                                    <div class="card-body">
                                        <h5 class="card-title">{{ hebergement.type }}</h5>
                                        <p class="card-text">Capacité: {{ hebergement.capacity }} personnes</p>
                                        <p class="card-text">Surface: {{ hebergement.surface }} m²</p>
                                        <a href="#" class="btn btn-success">Réserver</a>
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                {% else %}
                    <p class="text-center text-danger">Aucun hébergement disponible pour ces dates.</p>
                {% endif %}
            {% endif %}
        </div>
    </div>
{% endblock %}
